order(pelecaniformes).

family(pelecanidae).
family(ardeidae).
family(threskiornithdae).

genus(pelecanus).
genus(botaurus).
genus(ixobrychus).
genus(ardea).
genus(egretta).
genus(bubulcus).
genus(butorides).
genus(nycticorax).
genus(nyctanassa).
genus(eudocimus).
genus(plegadis).
genus(platalea).

species(occidentalis).
species(erythrorhynchos).
species(lentiginosus).
species(exilis).
species(herodias).
species(alba).
species(thula).
species(caerulea).
species(tricolor).
species(rufescens).
species(ibis).
species(virescens).
species(nycticorax).
species(violacea).
species(albus).
species(falcinellus).
species(chihi).
species(ajaja).

hasParent(ajaja, platalea).
hasParent(chihi, plegadis).
hasParent(falcinellus, plegadis).
hasParent(albus, eudocimus).
hasParent(violacea, nyctanassa).
hasParent(nycticorax, nycticorax).
hasParent(virescens, butorides).
hasParent(ibis, bubulcus).
hasParent(rufescens, egretta).
hasParent(tricolor, egretta).
hasParent(caerulea, egretta).
hasParent(thulaegretta, egretta).
hasParent(alba, ardea).
hasParent(herodias, ardea).
hasParent(exilis, ixobrychus).
hasParent(lentiginosus, botaurus).
hasParent(occidentalis, pelecanus).
hasParent(erythrorhynchos, pelecanus).
hasParent(pelecanus, pelecanidae).
hasParent(botaurus, ardeidae).
hasParent(ixobrychus, ardeidae).
hasParent(ardea, ardeidae).
hasParent(egretta, ardeidae).
hasParent(bubulcus, ardeidae).
hasParent(butorides, ardeidae).
hasParent(nycticorax, ardeidae).
hasParent(nyctanassa, ardeidae).
hasParent(eudocimus, threskiornithdae).
hasParent(plegadis, threskiornithdae).
hasParent(platalea, threskiornithdae).
hasParent(threskiornithdae, pelecaniformes).
hasParent(ardeidae, pelecaniformes).
hasParent(pelecanidae, pelecaniformes).

hasCommonName(pelecanus_erythrorhynchos, americanWhitePelican).
hasCommonName(pelecanus_occidentalis, brownPelican).
hasCommonName(botaurus_lentiginosus, americanBittern).
hasCommonName(ixobrychus_exilis, leastBittern).
hasCommonName(ardea_herodias, greatBlueHeron).
hasCommonName(ardea_alba, greatEgret).
hasCommonName(egretta_thulaegretta, snowyEgret).
hasCommonName(egretta_caerulea, littleBlueHeron).
hasCommonName(egretta_tricolor, tricoloredHeron).
hasCommonName(egretta_rufescens, reddishEgret).
hasCommonName(bubulcus_ibis, cattleEgret).
hasCommonName(butorides_virescens, greenHeron).
hasCommonName(nycticorax_nycticorax, nycticorax).
hasCommonName(nyctanassa_violacea, yellowCrownedNightHeron).
hasCommonName(eudocimus_albus, whiteIbis).
hasCommonName(plegadis_falcinellus, glossyIbis).
hasCommonName(plegadis_chihi, whiteFacedIbis).
hasCommonName(platalea_ajaja, roeateSpoonbill).
hasCommonName(pelecanus, pelican).
hasCommonName(botaurus, bittern).
hasCommonName(ixobrychus, bittern).
hasCommonName(ardea, heron).
hasCommonName(egretta, heron).
hasCommonName(egretta, egret).
hasCommonName(bubulcus, egret).
hasCommonName(butorides, heron).
hasCommonName(nycticorax, nightHeron).
hasCommonName(nyctanassa, nightHeron).
hasCommonName(eudocimus, ibis).
hasCommonName(plegadis, ibis).
hasCommonName(platalea, spoonbill).

hasCommonName(pelecanus, erythrorhynchos, americanWhitePelican).
hasCommonName(pelecanus, occidentalis, brownPelican).
hasCommonName(botaurus, lentiginosus, americanBittern).
hasCommonName(ixobrychus, exilis, leastBittern).
hasCommonName(ardea, herodias, greatBlueHeron).
hasCommonName(ardea, alba, greatEgret).
hasCommonName(egretta, thulaegretta, snowyEgret).
hasCommonName(egretta, caerulea, littleBlueHeron).
hasCommonName(egretta, tricolor, tricoloredHeron).
hasCommonName(egretta, rufescens, reddishEgret).
hasCommonName(bubulcus, ibis, cattleEgret).
hasCommonName(butorides, virescens, greenHeron).
hasCommonName(nycticorax, nycticorax, blackCrownedNightHeron).
hasCommonName(nyctanassa, violacea, yellowCrownedNightHeron).
hasCommonName(eudocimus, albus, whiteIbis).
hasCommonName(plegadis, falcinellus, glossyIbis).
hasCommonName(plegadis, chihi, whiteFacedIbis).
hasCommonName(platalea, ajaja, roeateSpoonbill).


% just realized, we dont have to hardcode the rest after this comment

hasSciName(roeateSpoonbill, platalea_ajaja).
hasSciName(whiteFacedIbis, plegadis_chihi).
hasSciName(glossyIbis, plegadis_falcinellus).
hasSciName(whiteIbis, eudocimus_albus).
hasSciName(yellowCrownedNightHeron, nyctanassa_violacea).
hasSciName(blackCrownedNightHeron, nycticorax_nycticorax).
hasSciName(greenHeron, butorides_virescens).
hasSciName(cattleEgret, bubulcus_ibis).
hasSciName(reddishEgret, egretta_rufescens).
hasSciName(tricoloredHeron, egretta_tricolor).
hasSciName(littleBlueHeron, egretta_caerulea).
hasSciName(snowyEgret, egretta_thula).
hasSciName(greatEgret, ardea_alba).
hasSciName(greatBlueHeron, ardea_herodias).
hasSciName(leastBittern, ixobrychus_exilis).
hasSciName(americanBittern, botaurus_lentiginosus).
hasSciName(brownPelican, pelecanus_occidentalis).
hasSciName(americanWhitePelican, pelecanus_erythrorhynchos).
hasSciName(pelican, pelecanus).
hasSciName(bittern, botaurus).
hasSciName(bittern, ixobrychus).
hasSciName(heron, ardea).
hasSciName(heron, egretta).
hasSciName(egret, egretta).
hasSciName(egret, bubulcus).
hasSciName(heron, butorides).
hasSciName(nightHeron, nycticorax).
hasSciName(nightHeron, nyctanassa).
hasSciName(ibis, eudocimus).
hasSciName(ibis, plegadis).
hasSciName(spoonbill, platalea).

hasCompoundName(pelecanus, erythrorhynchos, pelecanus_erythrorhynchos).
hasCompoundName(pelecanus, occidentalis, pelecanus_occidentalis).
hasCompoundName(botaurus, lentiginosus, botaurus_lentiginosus).
hasCompoundName(ixobrychus, exilis, ixobrychus_exilis).
hasCompoundName(ardea, herodias, ardea_herodias).
hasCompoundName(ardea, alba, ardea_alba).
hasCompoundName(egretta, thulaegretta, egretta_thulaegretta).
hasCompoundName(egretta, caerulea, egretta_caerulea).
hasCompoundName(egretta, tricolor, egretta_tricolor).
hasCompoundName(egretta, rufescens, egretta_rufescens).
hasCompoundName(bubulcus, ibis, bubulcus_ibis).
hasCompoundName(butorides, virescens, butorides_virescens).
hasCompoundName(nycticorax, nycticorax, nycticorax_nycticorax).
hasCompoundName(nyctanassa, violacea, nyctanassa_violacea).
hasCompoundName(eudocimus, albus, eudocimus_albus).
hasCompoundName(plegadis, falcinellus, plegadis_falcinellus).
hasCompoundName(plegadis, chihi, plegadis_chihi).
hasCompoundName(platalea, ajaja, platalea_ajaja).

%isaStrict(A, B) :- hasCompoundName(_, X, A), hasCompoundName(_, Y, B), isaStrict(X,Y).
%isaStrict(A, B) :- hasCompoundName(_, X, A), isaStrict(X,B).
%isaStirct(A, B) :- hasCompountName(_, Y, B), isaStrict(A,Y).

isaStrict(A, B) :- convertToSpeciesName(A,X), convertToSpeciesName(B,Y), \+ species(A), \+species(B),  isaStrictActual(X,Y).
isaStrict(A, B) :- convertToSpeciesName(A,X), isaStrictActual(X,B), \+ species(A), \+ species(B).
isaStrict(A, B) :- convertToSpeciesName(B,Y), isaStrictActual(A,Y), \+ species(A), \+ species(B).
isaStrict(A, B) :- isaStrictActual(A,B).

isaStrictActual(A, B) :- A == B.
isaStrictActual(A, B) :- hasParent(A, C), hasParent(C, D), hasParent(D, B).
isaStrictActual(A, B) :- hasParent(A, C), hasParent(C, B).
isaStrictActual(A, B) :- hasParent(A,B).

convertToSpeciesName(A,B) :- hasCompoundName(_ , B, A).
rangesTo(X,Y):- var(X) -> hasCompoundName(_,_,X), rangeOf(X,Y).
rangesTo(X,Y):- atom(X) -> rangeOf(X,Y).

rangeOf(pelecaniformes, canada).
rangeOf(pelecaniformes, alberta).
rangeOf(pelecanidae, canada).
rangeOf(pelecanidae, alberta).
rangeOf(pelecanus, canada).
rangeOf(pelecanus, alberta).
rangeOf(ardeidae, canada).
rangeOf(ardeidae, alberta).
rangeOf(botaurus, canada).
rangeOf(botaurus, alberta).
rangeOf(ixobrychus, canada).
rangeOf(ardea, canada).
rangeOf(ardea, alberta).
rangeOf(butorides, canada).
rangeOf(nycticorax, canada).
rangeOf(nycticorax, alberta).
rangeOf(pelecanus_erythrorhynchos, canada).
rangeOf(pelecanus_erythrorhynchos, alberta).
rangeOf(botaurus_lentiginosus, canada).
rangeOf(botaurus_lentiginosus, alberta).
rangeOf(ardea_herodias, canada).
rangeOf(ardea_herodias, alberta).
rangeOf(ardea_alba, canada).
rangeOf(ixobrychus_exilis, canada).
rangeOf(butorides_virescens, canada).
rangeOf(nycticorax_nycticorax, canada).
rangeOf(nycticorax_nycticorax, alberta).

%Counts how many species there are for B. N is the number that belong to it
%If B is a compound name, then N is 1.
%If B is an order, family, or genus name, then N is the number of species belonging to them
%If B is anything else, N is 0.
countSpecies(B, N) :- hasCompoundName(_,_,B) -> N is 1.
countSpecies(B, N) :- genus(B) -> findall(X, hasParent(X,B), L) -> length(L, Y), N is Y.
countSpecies(B, N) :- (family(B); order(B)) -> findall(X, hasParent(X,B), L) -> maplist(countSpecies, L, L1) -> listsum(L1, N).
countSpecies(B, 0) :- \+((family(B);order(B);genus(B);hasCompoundName(_,_,B))).

%Sums a list of numbers together. X is the sum of the list
listsum([X], X).                  
listsum([H|L], X):- listsum(L, Y), X is (H + Y).

isNonSpeciesName(A) :- hasCompoundName( _, _, A); hasCommonName(_, _, A); hasCommonName( _ , A); hasSciName(A, _).


isNonSpeciesName( A ,B) :- isNonSpeciesName(A), isNonSpeciesName(B).
						 
synonym(A,B)	:-	(hasCommonName(A,B);hasCommonName(B,A);(hasCommonName(X,A),hasCommonName(X,B),A\==B)).




%Case where both are commonNames...
%Case where one is a common Name
%Case where one is a common Name
%Case where neither is a common Name


isa(A,B) :- \+ var(A), \+ var(B), hasCommonName(C,A), hasCommonName(D,B), isaStrict(C,D).
isa(A,B) :- \+ var(A), hasCommonName(C,A), isaStrict(C,B).
isa(A,B) :- \+ var(B), hasCommonName(D,B), isaStrict(A,D).
isa(A,B) :- isaStrict(A,B).

%v1.1
%isa(A,B) :- isConverted(A, C), isConverted(B,D), isaStrict(C,D).
%isa(A,B) :- isConverted(A, C), isaStrict(C,B).
%isa(A,B) :- isConverted(B, D), isaStrict(A,D).
%isa(A,B) :- isaStrict(A,B).


%v1.0
%isa(A,B) :- A is hasSciName(X, A), B is hasSciName(Y,B), isaStrict(X,Y).
%isa(A,B) :- synonym(A,C), synonym(B,D), isaStrict(C,D), C \==D.
%isa(A,B) :- synonym(A,C), isaStrict(C,B), C\==B.
%isa(A,B) :- synonym(B,D), isaStrict(A,D), A\==D.
%isa(A,B) :- hasSciName(A,E), hasSciName(B,F), isaStrict(E,F), E\==F.
%isa(A,B) :- hasSciName(A,E), isaStrict(E,B), E\==B.


isConverted(A,B) :- hasCompoundName(_, B,A), \+species(A).

%variable(X). true if X is a variable and fails if x is constant\not variable

isaNonSpeciesName(X,Y) :- hasCommonName(A, X), hasCommonName(B,Y), isaStrict(X is A,Y is B).
isaNonSpeciesName(X,Y) :- hasCommonName(A_1, _, X), hasCommonName(B_2, _, Y), isaStrict( X is A_1, Y is B_2).
%/////////////////////////////
habitat(pelecanus_erythrorhynchos, lakePond).
habitat(pelecanus_occidentalis, ocean).
habitat(botaurus_lentiginosus, marsh).
habitat(ixobrychus_exilis, marsh).
habitat(ardea_herodias, marsh).
habitat(ardea_alba, marsh).
habitat(egretta_thulaegretta, marsh).
habitat(egretta_caerulea, marsh).
habitat(egretta_tricolor, marsh).
habitat(egretta_rufescens, marsh).
habitat(bubulcus_ibis, marsh).
habitat(butorides_virescens, marsh).
habitat(nycticorax_nycticorax, marsh).
habitat(nyctanassa_violacea, marsh).
habitat(eudocimus_albus, marsh).
habitat(plegadis_falcinellus, marsh).
habitat(plegadis_chihi, marsh).
habitat(platalea_ajaja, marsh).



food(pelecanus_erythrorhynchos, fish).
food(pelecanus_occidentalis, fish).
food(botaurus_lentiginosus, fish).
food(ixobrychus_exilis, fish).
food(ardea_herodias, fish).
food(ardea_alba, fish).
food(egretta_thulaegretta, fish).
food(egretta_caerulea, fish).
food(egretta_tricolor, fish).
food(egretta_rufescens, fish).
food(bubulcus_ibis, insects).
food(butorides_virescens, fish).
food(nycticorax_nycticorax, fish).
food(nyctanassa_violacea, insects).
food(eudocimus_albus, insects).
food(plegadis_falcinellus, insects).
food(plegadis_chihi, insects).
food(platalea_ajaja, fish).

nesting(pelecanus_erythrorhynchos, ground).
nesting(pelecanus_occidentalis, tree).
nesting(botaurus_lentiginosus, ground).
nesting(ixobrychus_exilis, ground).
nesting(ardea_herodias, tree).
nesting(ardea_alba, tree).
nesting(egretta_thulaegretta, tree).
nesting(egretta_caerulea, tree).
nesting(egretta_tricolor, tree).
nesting(egretta_rufescens, tree).
nesting(bubulcus_ibis, tree).
nesting(butorides_virescens, tree).
nesting(nycticorax_nycticorax, tree).
nesting(nyctanassa_violacea, tree).
nesting(eudocimus_albus, tree).
nesting(plegadis_falcinellus, ground).
nesting(plegadis_chihi, ground).
nesting(platalea_ajaja, tree).

behavior(pelecanus_erythrorhynchos, surfaceDive).
behavior(pelecanus_occidentalis, aerialDive).
behavior(botaurus_lentiginosus, stalking).
behavior(ixobrychus_exilis, stalking).
behavior(ardea_herodias, stalking).
behavior(ardea_alba, stalking).
behavior(egretta_thulaegretta, stalking).
behavior(egretta_caerulea, stalking).
behavior(egretta_tricolor, stalking).
behavior(egretta_rufescens, stalking).
behavior(bubulcus_ibis, groundForager).
behavior(butorides_virescens, stalking).
behavior(nycticorax_nycticorax, stalking).
behavior(nyctanassa_violacea, stalking).
behavior(eudocimus_albus, probing).
behavior(plegadis_falcinellus, probing).
behavior(plegadis_chihi, probing).
behavior(platalea_ajaja, probing).

conservation(pelecanus_erythrorhynchos, lc).
conservation(pelecanus_occidentalis, lc).
conservation(botaurus_lentiginosus, lc).
conservation(ixobrychus_exilis, lc).
conservation(ardea_herodias, lc).
conservation(ardea_alba, lc).
conservation(egretta_thulaegretta, lc).
conservation(egretta_caerulea, lc).
conservation(egretta_tricolor, lc).
conservation(egretta_rufescens, nt).
conservation(bubulcus_ibis, lc).
conservation(butorides_virescens, lc).
conservation(nycticorax_nycticorax, lc).
conservation(nyctanassa_violacea, lc).
conservation(eudocimus_albus, lc).
conservation(plegadis_falcinellus, lc).
conservation(plegadis_chihi, lc).
conservation(platalea_ajaja, lc).

rangesTo(X,Y):- var(X) -> hasCompoundName(_,_,X), rangeOf(X,Y).
rangesTo(X,Y):- atom(X) -> rangeOf(X,Y).

rangeOf(pelecaniformes, canada).
rangeOf(pelecaniformes, alberta).
rangeOf(pelecanidae, canada).
rangeOf(pelecanidae, alberta).
rangeOf(pelecanus, canada).
rangeOf(pelecanus, alberta).
rangeOf(ardeidae, canada).
rangeOf(ardeidae, alberta).
rangeOf(botaurus, canada).
rangeOf(botaurus, alberta).
rangeOf(bobulcus,canada).
rangeOf(ardea, canada).
rangeOf(ardea, alberta).
rangeOf(butorides, canada).
rangeOf(nycticorax, canada).
rangeOf(nycticorax, alberta).
rangeOf(pelecanus_erythrorhynchos, canada).
rangeOf(pelecanus_erythrorhynchos, alberta).
rangeOf(botaurus_lentiginosus, canada).
rangeOf(botaurus_lentiginosus, alberta).
rangeOf(bobulcus_ibis,canada).
rangeOf(ardea_herodias, canada).
rangeOf(ardea_herodias, alberta).
rangeOf(ardea_alba, canada).
rangeOf(butorides_virescens, canada).
rangeOf(nycticorax_nycticorax, canada).
rangeOf(nycticorax_nycticorax, alberta).

%commit boosting
